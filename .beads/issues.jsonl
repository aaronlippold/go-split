{"id":"go-split-7gz","title":"Investigate TOON format for LLM efficiency","description":"TOON (Token-Oriented Object Notation) is a new format designed to reduce LLM token usage by 30-60%.\n\n## References\n- https://github.com/toon-format/toon\n- https://medium.com/data-science-in-your-pocket/toon-bye-bye-json-for-llms-91e4fe521b14\n- https://www.tensorlake.ai/blog/toon-vs-json\n\n## Status\nDeferred to v2 - format is too new (Nov 2025), only TypeScript SDK available.\n\n## When to revisit\n- Go SDK becomes available\n- Format matures with more enterprise adoption\n- Security concerns addressed","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-28T18:36:58.422805-05:00","created_by":"alippold","updated_at":"2025-12-28T18:36:58.422805-05:00","dependencies":[{"issue_id":"go-split-7gz","depends_on_id":"go-split-vwi","type":"blocks","created_at":"2025-12-28T18:37:14.512358-05:00","created_by":"daemon"}]}
{"id":"go-split-9o8","title":"Add integration tests with mocked API","description":"Add integration tests that don't require a live API:\n\n1. Create MockClient interface for API client\n2. Add testdata/ directory with golden API responses\n3. Test full flows: analyze, generate, validate, check\n4. Add -tags=integration for optional live API tests\n\n**API Capture Mode (for generating golden files):**\n- Add --capture flag or GO_SPLIT_CAPTURE=1 env var\n- When enabled, log request prompts and responses to files\n- Format: testdata/captured/\u003ctimestamp\u003e_request.txt, _response.txt\n- Makes it easy to generate new golden files from real API calls\n\nChallenges to address:\n- AI output is non-deterministic\n- Use golden files for predictable test responses\n- Mock at the HTTP level or client interface level\n\nInitial golden files from label.go already in testdata/golden/\n\nThis enables CI/CD without API costs.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T18:44:06.933907-05:00","created_by":"alippold","updated_at":"2025-12-28T18:45:53.047885-05:00"}
{"id":"go-split-am3","title":"Investigate background execution for Claude Code","description":"Check if go-split needs a --background flag for Claude Code integration.\n\nQuestions:\n- Does Claude Code's run_in_background handle this automatically?\n- Do we need progress streaming for long operations?\n- Should we support a --watch mode?\n\nMay not need anything - verify wrapper behavior first.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-28T18:37:03.70315-05:00","created_by":"alippold","updated_at":"2025-12-28T18:37:03.70315-05:00","dependencies":[{"issue_id":"go-split-am3","depends_on_id":"go-split-vwi","type":"blocks","created_at":"2025-12-28T18:37:14.682854-05:00","created_by":"daemon"}]}
{"id":"go-split-d8l","title":"Complete quality check command","description":"Finish the check command with skip flags working correctly. Add JSON output for CI integration.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T18:37:00.18315-05:00","created_by":"alippold","updated_at":"2025-12-28T18:37:00.18315-05:00","dependencies":[{"issue_id":"go-split-d8l","depends_on_id":"go-split-vwi","type":"blocks","created_at":"2025-12-28T18:37:14.569105-05:00","created_by":"daemon"}]}
{"id":"go-split-kxy","title":"Add JSON output support","description":"Add --json flag for machine-readable output. Return structured JSON for analyze, generate, and check commands.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-28T18:36:55.175854-05:00","created_by":"alippold","updated_at":"2025-12-28T18:36:55.175854-05:00","dependencies":[{"issue_id":"go-split-kxy","depends_on_id":"go-split-vwi","type":"blocks","created_at":"2025-12-28T18:37:14.401927-05:00","created_by":"daemon"}]}
{"id":"go-split-n9w","title":"Add test file awareness to generate","description":"When splitting a file, detect associated _test.go file and recommend how tests should be split to match. Show warning if tests exist but won't be split.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T18:37:01.911248-05:00","created_by":"alippold","updated_at":"2025-12-28T18:37:01.911248-05:00","dependencies":[{"issue_id":"go-split-n9w","depends_on_id":"go-split-vwi","type":"blocks","created_at":"2025-12-28T18:37:14.624356-05:00","created_by":"daemon"}]}
{"id":"go-split-qmb","title":"Add JSONL output support","description":"Add --jsonl flag for newline-delimited JSON. Useful for batch operations and streaming results to pipelines.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-28T18:36:56.696031-05:00","created_by":"alippold","updated_at":"2025-12-28T18:36:56.696031-05:00","dependencies":[{"issue_id":"go-split-qmb","depends_on_id":"go-split-vwi","type":"blocks","created_at":"2025-12-28T18:37:14.455298-05:00","created_by":"daemon"}]}
{"id":"go-split-s7d","title":"Add direct Anthropic API support","description":"Currently go-split only works with the claude-code-openai-wrapper which handles authentication.\n\nAdd support for direct Anthropic API usage:\n- Accept ANTHROPIC_API_KEY environment variable\n- Add --api-key flag (with warning about shell history)\n- Auto-detect: if endpoint looks like api.anthropic.com, use native Anthropic format\n- Update API client to handle both wrapper format and native Anthropic format\n\n**Reference Implementation:**\nBorrow from beads `internal/compact/haiku.go`:\n- Uses official `github.com/anthropics/anthropic-sdk-go` package\n- Implements retry with exponential backoff\n- Handles rate limiting (429) and server errors (5xx)\n- Uses `anthropic.NewClient(option.WithAPIKey(apiKey))`\n\nThis would let users run go-split without needing the wrapper running.\n\nRelated: The wrapper approach is still valuable for local dev (no key needed) and for Claude Code integration.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-28T18:43:57.464997-05:00","created_by":"alippold","updated_at":"2025-12-28T19:00:21.319216-05:00","closed_at":"2025-12-28T19:00:21.319216-05:00","close_reason":"Implemented direct Anthropic API support with SDK. Uses ANTHROPIC_API_KEY env var or --api-key flag. Includes retry with exponential backoff."}
{"id":"go-split-vwi","title":"go-split v1.0: AI-powered Go file splitter","description":"# go-split v1.0\n\nCLI tool to intelligently split large Go files into smaller, focused modules using AI analysis.\n\n## Goals\n- Analyze Go files and recommend splits\n- Generate split files with proper imports\n- Run quality checks (fmt, vet, lint, security, tests)\n- Support JSON/JSONL output for scripting\n- Detect and handle associated test files\n\n## Key Features\n- `analyze` - Show file structure and AI recommendations\n- `generate` - Create split files\n- `check` - Run quality checks\n- `validate` - Verify Go syntax\n\n## Non-Goals (v1)\n- TOON format support (too new, defer to v2)\n- Automatic test splitting (manual for now)","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-28T18:35:17.098072-05:00","created_by":"alippold","updated_at":"2025-12-28T18:35:17.098072-05:00"}
